function labelForTaskStatus(status) {
 	if (status === "Complete") {
 		return "label label-success";
 	}
 	else {
 		return "label";
 	}
}

function updateTaskEntryStatus() {
	var taskContainer 	= $("#task-"+<%= @task.id %>+"-entry");
	var taskStatus = "<%= @task.task_status.name %>";
	// updateTaskStatusBadge(taskContainer, taskStatus);
	updateTaskStatusControls(taskContainer, taskStatus);
}

function updateTaskStatusControls(taskContainer, status) {
	var taskStatusControls = taskContainer.find(".task-status-controls");
	
	if (status === "Complete") {
		taskStatusControls.empty();
	}
}

function updateTaskStatusBadge(taskContainer, status) {
	var taskLabel = taskContainer.parent().find(".task-status-label").first();
	taskLabel.text(status);
	taskLabel.attr("class", "task-status-label " + labelForTaskStatus(status));

	var awaitingSignoffLabels = taskContainer.parent().find(".task-awaiting-signoff-label");
	if (awaitingSignoffLabels.length !== 0) {
		var awaitingSignoffLabel = awaitingSignoffLabels.first();
		awaitingSignoffLabel.remove();
	}
}

updateTaskEntryStatus();