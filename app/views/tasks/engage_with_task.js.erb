function updateTaskEntryStatus() {
	var taskContainer = $("#task-"+<%= @task.id %>+"-entry");
	var taskStatus = "<%= @task.task_status.name %>";
	updateStatusDisplayButton(taskContainer, taskStatus);
}

function updateStatusDisplayButton(taskContainer, taskStatus) {
	
	if (taskStatus === "Complete") {
		taskContainer.find(".status-display-button").html("Complete <i class=\"icon-ok button-icon\"></i>");
		taskContainer.find(".status-display-button").attr("class", "btn btn-success status-display-button");
		taskContainer.find(".dropdown-toggle").attr("class", "btn btn-success dropdown-toggle");
	} else if (taskStatus === "Needs Fixing") {
		taskContainer.find(".status-display-button").html("Fix <i class=\"icon-wrench button-icon\"></i>");
		taskContainer.find(".status-display-button").attr("class", "btn btn-warning status-display-button");
		taskContainer.find(".dropdown-toggle").attr("class", "btn btn-warning dropdown-toggle");
	} else if (taskStatus === "Needs Redoing") {
		taskContainer.find(".status-display-button").html("Fix <i class=\"icon-refresh button-icon\"></i>");
		taskContainer.find(".status-display-button").attr("class", "btn btn-needs-redoing status-display-button");
		taskContainer.find(".dropdown-toggle").attr("class", "btn btn-needs-redoing dropdown-toggle");
	} else if (taskStatus === "Not Submitted") {
		taskContainer.find(".status-display-button").html("Not Submitted <i class=\"icon-minus-sign button-icon\"></i>");
		taskContainer.find(".status-display-button").attr("class", "btn status-display-button");
		taskContainer.find(".dropdown-toggle").attr("class", "btn dropdown-toggle");
	} else if (taskStatus === "Working On It") {
		taskContainer.find(".status-display-button").html("Working On It <i class=\"icon-bolt button-icon\"></i>");
		taskContainer.find(".status-display-button").attr("class", "btn btn-working-on-it status-display-button");
		taskContainer.find(".dropdown-toggle").attr("class", "btn btn-working-on-it dropdown-toggle");
	} else if (taskStatus === "Need Help") {
		taskContainer.find(".status-display-button").html("Need Some Help <i class=\"icon-exclamation-sign button-icon\"></i>");
		taskContainer.find(".status-display-button").attr("class", "btn btn-need-help status-display-button");
		taskContainer.find(".dropdown-toggle").attr("class", "btn btn-need-help dropdown-toggle");
	}
}

updateTaskEntryStatus();