// Build the row id string from the user id
var userRowId = "user-" + "<%= @user.id %>" +  "-row";
var partial = "<%=j render 'users/table_row_edit', user: @user, user_role_options: @user_role_options, current_user_roles: @current_user_roles %>"

// Render the table_row_edit partial. If we just created a new tutorial via the 'Create' button, it won't have a row in the table yet.
if(document.getElementById(userRowId) != null)
	$("#" + userRowId).replaceWith(partial);	// Row already exists - replace it with the form
else
	$("#users-table").append(partial);			// No row exists yet - append one

// Make sure the table is visible and the "no users" message is hidden.
if($("#users-table").find("tbody").children().length > 0)
{
	$("#no-users-message").hide();
	$("#users-table").show();
}